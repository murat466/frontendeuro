"use strict";(()=>{var e={};e.id=902,e.ids=[902],e.modules={5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},5591:e=>{e.exports=require("https")},1428:e=>{e.exports=import("axios")},6762:(e,s)=>{Object.defineProperty(s,"M",{enumerable:!0,get:function(){return function e(s,t){return t in s?s[t]:"then"in s&&"function"==typeof s.then?s.then(s=>e(s,t)):"function"==typeof s&&"default"===t?s:void 0}}})},9151:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{config:()=>u,default:()=>d,routeModule:()=>c});var o=t(9947),n=t(325),a=t(6762),i=t(7372),l=e([i]);i=(l.then?(await l)():l)[0];let d=(0,a.M)(i,"default"),u=(0,a.M)(i,"config"),c=new o.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/breaking-news/[id]",pathname:"/api/breaking-news/[id]",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},7372:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>a});var o=t(1428);t(5591);var n=e([o]);o=(n.then?(await n)():n)[0];let i="https://eennback-002-site1.atempurl.com/api/BreakingNews",l=o.default.create({timeout:1e4,httpsAgent:void 0});async function a(e,s){let{id:t}=e.query;if(!t||Array.isArray(t))return s.status(400).json({error:"Invalid breaking news ID"});if("PUT"===e.method)try{let{isPublished:r,title:o,breakingNewsDuration:n}=e.body;console.log(`Updating breaking news ${t} with data:`,e.body);let a={};"boolean"==typeof r&&(a.isPublished=r),o&&(a.title=o),n&&(a.breakingNewsDuration=n),await l.put(`${i}/${t}`,a,{headers:{"Content-Type":"application/json"}}),console.log(`Breaking news ${t} updated successfully`),s.status(200).json({message:"Breaking news updated successfully"})}catch(e){if(console.error(`Error updating breaking news ${t}:`,e),o.default.isAxiosError(e)){console.error("Axios error details:",e.response?.data),console.error("Axios error status:",e.response?.status);let t=e.response?.status||500;s.status(t).json({error:"Failed to update breaking news",details:e.response?.data})}else s.status(500).json({error:"Failed to update breaking news"})}else if("GET"===e.method)try{console.log(`Fetching breaking news ${t}`);let e=(await l.get(`${i}/${t}`)).data;console.log(`Breaking news ${t} fetched successfully`),s.status(200).json(e)}catch(e){if(console.error(`Error fetching breaking news ${t}:`,e),o.default.isAxiosError(e)){console.error("Axios error details:",e.response?.data),console.error("Axios error status:",e.response?.status);let t=e.response?.status||500;s.status(t).json({error:"Failed to fetch breaking news",details:e.response?.data})}else s.status(500).json({error:"Failed to fetch breaking news"})}else if("DELETE"===e.method)try{console.log(`Deleting breaking news ${t}`),await l.delete(`${i}/${t}`),console.log(`Breaking news ${t} deleted successfully`),s.status(200).json({message:"Breaking news deleted successfully"})}catch(e){if(console.error(`Error deleting breaking news ${t}:`,e),o.default.isAxiosError(e)){console.error("Axios error details:",e.response?.data),console.error("Axios error status:",e.response?.status);let t=e.response?.status||500;s.status(t).json({error:"Failed to delete breaking news",details:e.response?.data})}else s.status(500).json({error:"Failed to delete breaking news"})}else s.setHeader("Allow",["GET","PUT","DELETE"]),s.status(405).json({error:`Method ${e.method} not allowed`})}r()}catch(e){r(e)}})},325:(e,s)=>{Object.defineProperty(s,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9947:(e,s,t)=>{e.exports=t(5600)}};var s=require("../../../webpack-api-runtime.js");s.C(e);var t=s(s.s=9151);module.exports=t})();