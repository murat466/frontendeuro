"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{6046:(e,t,r)=>{var l=r(6658);r.o(l,"useParams")&&r.d(t,{useParams:function(){return l.useParams}}),r.o(l,"useRouter")&&r.d(t,{useRouter:function(){return l.useRouter}})},3674:(e,t,r)=>{r.d(t,{A:()=>c});var l=r(5155),a=r(2115),s=r(5565),n=r(3640);let c=e=>{let{src:t,alt:r,className:c="",fallbackElement:o}=e,[i,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!0),h=t&&t.trim()&&!i,f=h?(0,n.As)(t.trim()):"",g=(0,l.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-white text-center p-8",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF0"}),(0,l.jsx)("p",{className:"text-lg",children:"مقال مميز جيد"})]})});return h?(console.log("=== RENDERING IMAGE ==="),console.log("Using normalized src:",f),console.log("hasValidSrc:",h),console.log("imageError:",i),console.log("imageLoading:",u),(0,l.jsxs)("div",{className:"relative w-full h-full",children:[(u||i)&&(0,l.jsx)("div",{className:"absolute inset-0 z-10",children:o||g}),!i&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.default,{src:f,alt:r,className:"".concat(c," absolute inset-0 w-full h-full object-cover ").concat(u?"opacity-0":"opacity-100"," transition-opacity duration-300 z-20"),fill:!0,sizes:"100vw",onError:e=>{console.error("=== IMAGE LOADING ERROR ==="),console.error("Original src:",t),console.error("Normalized path:",f),console.error("Backend URL from env:","https://eennback-002-site1.atempurl.com"),console.error("hasValidSrc:",h),console.error("Type of src:",typeof t),console.error("Error event:",e),console.error("================================"),d(!0),m(!1)},onLoad:()=>{console.log("=== IMAGE LOADED SUCCESSFULLY ==="),console.log("Loaded image:",f),m(!1)},unoptimized:!0})})]})):(console.log("ArticleImage: Showing fallback due to invalid src"),o||g)}},5743:(e,t,r)=>{r.d(t,{A:()=>i});var l=r(5155),a=r(2115),s=r(8173),n=r.n(s),c=r(3674),o=r(6280);let i=e=>{let{categoryId:t,className:r=""}=e,[s,i]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{u(!0),h(null);let e=await fetch("/api/articles?categoryId=".concat(t));if(!e.ok)throw Error("Failed to fetch articles");let r=(await e.json()).filter(e=>e.isPublished).sort((e,t)=>new Date(t.createdDate).getTime()-new Date(e.createdDate).getTime()).slice(0,5);i(r)}catch(e){console.error("Failed to fetch articles:",e),h("فشل في تحميل آخر الأخبار")}finally{u(!1)}})()},[t]),d)?(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-md mt-8 ".concat(r),children:(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"جاري التحميل..."})})}):m?(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-md mt-8 ".concat(r),children:(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("div",{className:"text-sm text-red-500",children:m})})}):0===s.length?(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-md mt-8 ".concat(r),children:(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"لا توجد أخبار متاحة حالياً"})})}):(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-lg mt-8 ".concat(r),children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("div",{className:"space-y-4",children:s.map((e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsx)(n(),{href:"/article/".concat(e.id),className:"block hover:bg-gray-50 transition-colors duration-200 p-2 rounded",children:(0,l.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,l.jsx)("div",{className:"w-20 h-16 flex-shrink-0 relative overflow-hidden rounded",children:(0,l.jsx)(c.A,{src:e.imagePath||"/img/1.jpg",alt:e.articleTitle,className:"w-full h-full object-cover",fallbackElement:(0,l.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-xs text-gray-400",children:"صورة"})})})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h3",{className:"font-semibold text-sm text-right line-clamp-2 mb-1 text-gray-900 hover:text-primaryOther transition-colors",children:e.articleTitle}),(0,l.jsxs)("div",{className:"flex items-center gap-1 justify-end",children:[(0,l.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.createdDate).toLocaleDateString("en-US")}),(0,l.jsx)(o.YmN,{className:"text-gray-500 text-xs"})]})]})]})}),t<s.length-1&&(0,l.jsx)("div",{className:"border-b border-gray-200 mt-3"})]},e.id))})})})}},3435:(e,t,r)=>{r.d(t,{k5:()=>d});var l=r(2115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=l.createContext&&l.createContext(a),n=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var l,a;l=t,a=r[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>l.createElement(u,c({attr:i({},e.attr)},t),function e(t){return t&&t.map((t,r)=>l.createElement(t.tag,i({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:a,size:s,title:o}=e,d=function(e,t){if(null==e)return{};var r,l,a=function(e,t){if(null==e)return{};var r={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)r=s[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,n),u=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),l.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:r,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&l.createElement("title",null,o),e.children)};return void 0!==s?l.createElement(s.Consumer,null,e=>t(e)):t(a)}}}]);