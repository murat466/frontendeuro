"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{5297:(e,t,r)=>{r.d(t,{A:()=>s,E6:()=>i,Y5:()=>h});let a=["محرم","صفر","ربيع الأول","ربيع الآخر","جمادى الأولى","جمادى الآخرة","رجب","شعبان","رمضان","شوال","ذو القعدة","ذو الحجة"],n=["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'ban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],l=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function c(e){let t,r,a;e instanceof Date?(t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate()):(t=e.year,r=e.month,a=e.day);let n=Math.floor((14-r)/12),l=t-n,o=a+Math.floor((153*(r+12*n-3)+2)/5)+365*l+Math.floor(l/4)-Math.floor(l/100)+Math.floor(l/400)+1721119-1948440+10632,c=Math.floor((o-1)/10631),s=Math.floor((10985-(o=o-10631*c+354))/5316)*Math.floor(50*o/17719)+Math.floor(o/5670)*Math.floor(43*o/15238);return r=Math.floor(24*(o=o-Math.floor((30-s)/15)*Math.floor(17719*s/50)-Math.floor(s/16)*Math.floor(15238*s/43)+29)/709),a=o-Math.floor(709*r/24),{year:t=30*c+s-30,month:r,day:a}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{showHijri:r=!0,showGregorian:n=!0,separator:o=" - ",hijriFirst:s=!0}=t,i=[];if(n){let t=e.getDate(),r=e.getMonth()+1,a=e.getFullYear(),n="".concat(t," ").concat(function(e){if(e<1||e>12)throw Error("Month number must be between 1 and 12");return l[e-1]}(r)," ").concat(a);i.push(n)}if(r){let t=c(e),r="".concat(t.day," ").concat(function(e){if(e<1||e>12)throw Error("Month number must be between 1 and 12");return a[e-1]}(t.month)," ").concat(t.year);i.push(r)}return s&&2===i.length?i.reverse().join(o):i.join(o)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{showHijri:r=!1,showGregorian:a=!0,separator:l=" - ",hijriFirst:s=!1,shortMonth:i=!0}=t,h=[];if(a){let t=e.getDate().toString().padStart(2,"0"),r=e.getMonth()+1,a=e.getFullYear(),n=i?function(e){if(e<1||e>12)throw Error("Month number must be between 1 and 12");return o[e-1]}(r):e.toLocaleString("en-US",{month:"long"}),l="".concat(n,"/").concat(t,"/").concat(a);h.push(l)}if(r){let t=c(e),r="".concat(t.day," ").concat(function(e){if(e<1||e>12)throw Error("Month number must be between 1 and 12");return n[e-1]}(t.month)," ").concat(t.year);h.push(r)}return s&&2===h.length?h.reverse().join(l):h.join(l)}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{format:t="arabic",showHijri:r=!0,showGregorian:a=!0,separator:n=" - ",hijriFirst:l=!0}=e,o=new Date;return"arabic"===t?s(o,{showHijri:r,showGregorian:a,separator:n,hijriFirst:l}):i(o,{showHijri:r,showGregorian:a,separator:n,hijriFirst:l})}},3640:(e,t,r)=>{r.d(t,{As:()=>l,Lh:()=>a,VG:()=>n});let a=e=>{if(!e)return"";e.startsWith("http://")||e.startsWith("https://")||(e="".concat("https://eennback-002-site1.atempurl.com").concat(e.startsWith("/")?"":"/").concat(e));try{let t=new URL(e);return t.pathname=t.pathname.replace(/ /g,"%20"),t.toString()}catch(t){return console.error("Failed to encode URL:",e,t),e.replace(/ /g,"%20")}},n=e=>e?/^https?:\/\//.test(e)?a(e):a("".concat("https://eennback-002-site1.atempurl.com").concat(e.startsWith("/")?"":"/").concat(e)):void 0,l=e=>{let t;if(console.log("=== NORMALIZING IMAGE PATH ==="),console.log("Input imagePath:",e),!e)return console.log("Empty imagePath, returning empty string"),"";if(e.startsWith("http://")||e.startsWith("https://")){console.log("Already full URL, encoding and returning:",e);let t=a(e);return console.log("Encoded URL:",t),t}let r="https://eennback-002-site1.atempurl.com";console.log("Backend URL from env:",r),e.startsWith("/uploads")||e.startsWith("/images")||e.startsWith("/static")?console.log("Backend path detected, constructed result:",t="".concat(r).concat(e)):e.startsWith("/")?console.log("Absolute path detected, constructed result:",t="".concat(r).concat(e)):console.log("Relative path detected, constructed result:",t="".concat(r,"/").concat(e));let n=a(t);return console.log("Final encoded result:",n),n}},5620:(e,t,r)=>{r.d(t,{dm:()=>n,e9:()=>a});let a=e=>e.toLowerCase().replace(/[^\u0600-\u06FF\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),n=(e,t)=>{let r=e.id;if(t){let e=t.categorySlug||a(t.name);return"/".concat(e,"/").concat(r)}return"/article/".concat(e.id)}},2013:(e,t,r)=>{r.d(t,{A:()=>h});var a=r(5155),n=r(8173),l=r.n(n),o=r(5620),c=r(3674),s=r(5489),i=r(6280);let h=e=>{let{article:t,variant:r="default",showImage:n=!0,onArticleClick:h,category:u}=e,d=(0,s.UX)(t.createdDate,!1),m=()=>{h&&h()},f=()=>{if(u){let e=u.categorySlug||(0,o.e9)(u.name),r=t.id;return"/".concat(e,"/").concat(r)}return"/article/".concat(t.id)};return"dropdown"===r?(0,a.jsxs)(l(),{href:f(),className:"block px-2 py-2 hover:bg-gray-100 rounded text-sm",onClick:m,children:[(0,a.jsx)("div",{className:"font-medium line-clamp-2 text-right",children:t.articleTitle}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:new Date(t.createdDate).toLocaleDateString("en-US")})]}):"compact"===r?(0,a.jsx)(l(),{href:f(),className:"block",onClick:m,children:(0,a.jsxs)("div",{className:"flex gap-3 p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow hover:bg-gray-50",children:[n&&t.imagePath&&""!==t.imagePath.trim()&&(0,a.jsx)("div",{className:"w-16 h-16 flex-shrink-0 relative overflow-hidden rounded",children:(0,a.jsx)(c.A,{src:t.imagePath,alt:t.articleTitle,className:"w-full h-full object-cover",fallbackElement:(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"لا توجد صورة"})})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-sm text-right line-clamp-2 mb-1 hover:text-blue-600 transition-colors",children:t.articleTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-1 justify-end",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(t.createdDate).toLocaleDateString("en-US")}),(0,a.jsx)(i.YmN,{className:"text-gray-500 text-xs"})]})]})]})}):(0,a.jsx)(l(),{href:f(),onClick:m,className:"block",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow group",children:[n&&t.imagePath&&""!==t.imagePath.trim()&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"h-48 overflow-hidden relative",children:[(0,a.jsx)(c.A,{src:t.imagePath,alt:t.articleTitle,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",fallbackElement:(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500",children:"لا توجد صورة"})})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/35 via-transparent to-transparent z-10"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:(0,a.jsx)("h2",{className:"text-lg font-bold text-right line-clamp-2 text-white article-title-shadow",children:t.articleTitle})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("p",{className:"text-gray-600 text-right line-clamp-2 mb-2 text-sm",children:t.articleSummary}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:d})]})]}),(!n||!t.imagePath||""===t.imagePath.trim())&&(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2 text-right line-clamp-2",children:t.articleTitle}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 text-right line-clamp-3",children:t.articleSummary}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:d})]})]})})}},3674:(e,t,r)=>{r.d(t,{A:()=>c});var a=r(5155),n=r(2115),l=r(5565),o=r(3640);let c=e=>{let{src:t,alt:r,className:c="",fallbackElement:s}=e,[i,h]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!0),m=t&&t.trim()&&!i,f=m?(0,o.As)(t.trim()):"",g=(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center p-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF0"}),(0,a.jsx)("p",{className:"text-lg",children:"مقال مميز جيد"})]})});return m?(console.log("=== RENDERING IMAGE ==="),console.log("Using normalized src:",f),console.log("hasValidSrc:",m),console.log("imageError:",i),console.log("imageLoading:",u),(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(u||i)&&(0,a.jsx)("div",{className:"absolute inset-0 z-10",children:s||g}),!i&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.default,{src:f,alt:r,className:"".concat(c," absolute inset-0 w-full h-full object-cover ").concat(u?"opacity-0":"opacity-100"," transition-opacity duration-300 z-20"),fill:!0,sizes:"100vw",onError:e=>{console.error("=== IMAGE LOADING ERROR ==="),console.error("Original src:",t),console.error("Normalized path:",f),console.error("Backend URL from env:","https://eennback-002-site1.atempurl.com"),console.error("hasValidSrc:",m),console.error("Type of src:",typeof t),console.error("Error event:",e),console.error("================================"),h(!0),d(!1)},onLoad:()=>{console.log("=== IMAGE LOADED SUCCESSFULLY ==="),console.log("Loaded image:",f),d(!1)},unoptimized:!0})})]})):(console.log("ArticleImage: Showing fallback due to invalid src"),s||g)}},5489:(e,t,r)=>{r.d(t,{RA:()=>l,UX:()=>o});var a=r(2115),n=r(5297);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,a.useState)(""),{updateInterval:l=6e4,...o}=e;return(0,a.useEffect)(()=>{let e=()=>{r((0,n.Y5)(o))};e();let t=setInterval(e,l);return()=>clearInterval(t)},[l,o]),t}function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.useMemo)(()=>{if(!e)return"";let r="string"==typeof e?new Date(e):e;if(isNaN(r.getTime())||1===r.getFullYear())return"";let{format:a="arabic",showHijri:l=!0,showGregorian:o=!0,separator:c=" - ",hijriFirst:s=!0,shortMonth:i=!0}=t;return"arabic"===a?(0,n.A)(r,{showHijri:l,showGregorian:o,separator:c,hijriFirst:s}):(0,n.E6)(r,{showHijri:l,showGregorian:o,separator:c,hijriFirst:s,shortMonth:i})},[e,t])}(e,{format:"arabic",showHijri:t,showGregorian:!0,hijriFirst:t,separator:t?" هـ - ":""})}},3435:(e,t,r)=>{r.d(t,{k5:()=>h});var a=r(2115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=a.createContext&&a.createContext(n),o=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var a,n;a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){return t=>a.createElement(u,c({attr:i({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,i({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:n,size:l,title:s}=e,h=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o),u=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,h,{className:r,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&a.createElement("title",null,s),e.children)};return void 0!==l?a.createElement(l.Consumer,null,e=>t(e)):t(n)}}}]);