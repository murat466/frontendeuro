(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{2695:(e,s,a)=>{Promise.resolve().then(a.bind(a,554))},554:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var l=a(5155),t=a(2115),r=a(6046),c=a(3204),i=a(3674),d=a(5743),n=a(8173),o=a.n(n);let m=()=>{let e=(0,r.useParams)(),s=null==e?void 0:e.category,[a,n]=(0,t.useState)(null),[m,x]=(0,t.useState)(!0),[h,g]=(0,t.useState)(null);return((0,t.useEffect)(()=>{let e=async()=>{try{x(!0);let e=await fetch("/api/categories-with-articles");if(!e.ok)throw Error("فشل في تحميل التصنيفات");let a=(await e.json()).find(e=>e.categorySlug===s);if(!a){g("التصنيف غير موجود");return}n(a)}catch(e){g(e instanceof Error?e.message:"حدث خطأ غير متوقع"),console.error("Error fetching category:",e)}finally{x(!1)}};s&&e()},[s]),m)?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primaryOther"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"جاري تحميل التصنيف..."})]})})}):h||!a?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-red-500 text-lg mb-4",children:"❌ خطأ"}),(0,l.jsx)("p",{className:"text-gray-600",children:h||"التصنيف غير موجود"}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(o(),{href:"/",className:"px-4 py-2 bg-primaryOther text-white rounded hover:bg-opacity-90 transition-colors inline-block",children:"العودة للرئيسية"})})]})})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("div",{className:"bg-white shadow-sm"}),(0,l.jsx)("div",{className:"container mx-auto py-6",children:(0,l.jsx)("div",{className:"grid grid-cols-12 gap-4 lg:gap-6",children:(0,l.jsxs)("div",{className:"col-span-12 lg:col-span-12",children:[(0,l.jsx)(c.A,{category:a,showHeader:!1,showViewAll:!1}),(0,l.jsxs)("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[a.articles.length>5&&(0,l.jsxs)("div",{className:"lg:col-span-8",children:[(0,l.jsxs)("div",{className:"flex text-center mb-8",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-primaryOther mb-4",children:a.name}),(0,l.jsx)("div",{className:"w-96 h-1 bg-primaryOther mx-auto rounded"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.articles.slice(5).map(e=>(0,l.jsxs)(o(),{href:"/article/".concat(e.id),className:"group block bg-white rounded-xl category-card overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[(0,l.jsxs)("div",{className:"aspect-[4/3] relative overflow-hidden",children:[(0,l.jsx)(i.A,{src:e.imagePath||"".concat("https://eennback-002-site1.atempurl.com","/uploads/images/2e18a6ef-5830-41ac-a7c8-7af1229b91c9_Food.PNG"),alt:e.articleTitle||"Food Image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",fallbackElement:(0,l.jsx)(i.A,{src:"".concat("https://eennback-002-site1.atempurl.com","/uploads/images/2e18a6ef-5830-41ac-a7c8-7af1229b91c9_Food.PNG"),alt:"Food Image Fallback",className:"w-full h-full object-cover",fallbackElement:(0,l.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-gray-400 text-lg",children:"صورة المقال"})})})}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/35 via-transparent to-transparent z-10"}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:(0,l.jsx)("h4",{className:"font-bold text-base line-clamp-2 text-white article-title-shadow",children:e.articleTitle})})]}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2 text-right",children:e.articleSummary}),(0,l.jsx)("div",{className:"text-xs text-gray-500 text-right",children:new Date(e.createdDate).toLocaleDateString("en-US")})]})]},e.id))})]}),(0,l.jsxs)("div",{className:a.articles.length>5?"lg:col-span-4":"lg:col-span-12",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,l.jsx)("div",{className:"w-12 sm:w-16 h-1 bg-primaryOther border-0 rounded-sm"}),(0,l.jsx)("div",{className:"text-primaryOther mx-2",children:(0,l.jsx)("p",{className:"text-xs sm:text-sm font-semibold",children:"آخر الأخبار"})}),(0,l.jsx)("div",{className:"w-12 sm:w-16 h-1 bg-primaryOther border-0 rounded-sm"})]}),(0,l.jsx)(d.A,{categoryId:a.id})]})]})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[512,173,565,204,42,441,517,358],()=>s(2695)),_N_E=e.O()}]);