(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[551],{7924:(e,r,t)=>{Promise.resolve().then(t.bind(t,9242))},6046:(e,r,t)=>{"use strict";var a=t(6658);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},9242:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(5155),c=t(2115),o=t(6046),s=t(366),n=t(5620);let i=()=>{let e=(0,o.useParams)(),r=(0,o.useRouter)(),t=null==e?void 0:e.id,[i,l]=(0,c.useState)(!0),[u,d]=(0,c.useState)(null);return((0,c.useEffect)(()=>{let e=async()=>{try{l(!0);let e=(await s.WT.getAll()).find(e=>e.id===t&&e.isPublished);if(!e){d("المقال غير موجود");return}let a=(await s.Zx.getAll()).find(r=>r.id===e.categoryId);if(a){let t=a.categorySlug||(0,n.e9)(a.name),c=e.id,o="/".concat(t,"/").concat(c);r.replace(o);return}let c=e.id;r.replace("/uncategorized/".concat(c))}catch(e){console.error("Failed to fetch article",e),d("فشل في تحميل المقال")}finally{l(!1)}};t&&e()},[t,r]),i)?(0,a.jsx)("div",{className:"container mx-auto p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("div",{children:"جاري إعادة التوجيه..."})]})}):u?(0,a.jsx)("div",{className:"container mx-auto p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-500 mb-4",children:u}),(0,a.jsx)("button",{onClick:()=>r.back(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors",children:"العودة"})]})}):null}},366:(e,r,t)=>{"use strict";t.d(r,{GE:()=>i,WT:()=>d,Zx:()=>u,bW:()=>l});var a=t(2651),c=t(9102),o=t.n(c);let s="https://eennback-002-site1.atempurl.com",n=new(o()).Agent({rejectUnauthorized:!1});a.A.defaults.httpsAgent=n,a.A.defaults.timeout=1e4;let i=async()=>{try{return(await a.A.get("".concat(s,"/api/Articles"))).data}catch(e){if(console.error("Error fetching articles:",e),a.A.isAxiosError(e)){if("ECONNREFUSED"===e.code)throw Error("Unable to connect to the API server. Please make sure the backend server is running on port 7065.");if(e.response)throw Error("API Error: ".concat(e.response.status," - ").concat(e.response.statusText));if(e.request)throw Error("Network Error: Unable to reach the API server. Please check your connection.")}throw e}},l=async()=>{try{return(await a.A.get("".concat(s,"/api/Categories"))).data}catch(e){if(console.error("Error fetching categories:",e),a.A.isAxiosError(e)){if("ECONNREFUSED"===e.code)throw Error("Unable to connect to the API server. Please make sure the backend server is running on port 7065.");if(e.response)throw Error("API Error: ".concat(e.response.status," - ").concat(e.response.statusText));if(e.request)throw Error("Network Error: Unable to reach the API server. Please check your connection.")}throw e}},u={getAll:()=>l(),getById:async e=>{try{return(await a.A.get("".concat(s,"/api/Categories/").concat(e))).data}catch(e){throw console.error("Error fetching category:",e),e}}},d={getAll:()=>i(),getById:async e=>{try{return(await a.A.get("".concat(s,"/api/Articles/").concat(e))).data}catch(e){throw console.error("Error fetching article:",e),e}},getByCategory:async e=>{try{return(await a.A.get("".concat(s,"/api/Articles/category/").concat(e))).data}catch(e){throw console.error("Error fetching articles by category:",e),e}}}},5620:(e,r,t)=>{"use strict";t.d(r,{dm:()=>c,e9:()=>a});let a=e=>e.toLowerCase().replace(/[^\u0600-\u06FF\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),c=(e,r)=>{let t=e.id;if(r){let e=r.categorySlug||a(r.name);return"/".concat(e,"/").concat(t)}return"/article/".concat(e.id)}}},e=>{var r=r=>e(e.s=r);e.O(0,[382,441,517,358],()=>r(7924)),_N_E=e.O()}]);