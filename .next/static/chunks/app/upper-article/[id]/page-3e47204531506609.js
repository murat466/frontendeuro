(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{2045:(e,t,a)=>{Promise.resolve().then(a.bind(a,8989))},6046:(e,t,a)=>{"use strict";var r=a(6658);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},8989:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5155),s=a(2115),i=a(6046),l=a(2013);function c(){let e=(0,i.useParams)(),t=null==e?void 0:e.id,[a,c]=(0,s.useState)([]),[n,d]=(0,s.useState)(""),[u,o]=(0,s.useState)(!0),[h,m]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let e=async()=>{try{o(!0),m(null);let e=await fetch("/api/articles");if(!e.ok)throw Error("Failed to fetch articles");let a=(await e.json()).filter(e=>e.upperArticleId===parseInt(t)&&e.isPublished);c(a),a.length>0&&d(a[0].upperArticleName)}catch(e){console.error("Error fetching articles by upper article:",e),m("فشل في تحميل المقالات")}finally{o(!1)}};t&&e()},[t]),u)?(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primaryOther"})})}):h?(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsx)("div",{className:"text-center text-red-500",children:h})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-right mb-2",children:n||"المقال المميز"}),(0,r.jsxs)("p",{className:"text-gray-600 text-right",children:[a.length," ",1===a.length?"مقال":"مقالات"]})]}),a.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>(0,r.jsx)(l.A,{article:{id:e.id,articleTitle:e.articleTitle,articleSummary:e.articleSummary,articleContent:e.articleContent,imagePath:e.imagePath,createdDate:e.createdDate.toString(),updatedDate:e.updatedDate.toString(),isPublished:e.isPublished,categoryId:e.categoryId},variant:"default",showImage:!0},e.id))}):(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"لا توجد مقالات لهذا التصنيف"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[512,173,565,759,441,517,358],()=>t(2045)),_N_E=e.O()}]);